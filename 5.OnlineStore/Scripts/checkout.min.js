function addToCart(n,t){$("#loading").show();var i=getCookie(SHOPPING_CART_ID);$.ajax({cache:!1,type:"POST",url:DOMAIN+"/ShoppingCart/AddToCart",async:!0,data:{CartId:i!==""?i:0,ProductId:n,Quantity:t},dataType:"json",timeout:3e4,success:function(n){n.success===!0?(loadDataToCart(n),$("#loading").hide(),openShoppingModal()):($("#loading").hide(),openMessage("Cannot add this item to cart. There were some errors in the process! <\/br>"+n.message))},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function loadCurrentCart(){$("#loading").show();var n=getCookie(SHOPPING_CART_ID);$.ajax({cache:!1,type:"GET",url:DOMAIN+"/ShoppingCart/GetCurrentCart",async:!0,data:{cartId:n!==""?n:0},dataType:"json",timeout:3e4,success:function(n){if(n.success===!0){if(loadDataToCart(n),URL.indexOf("/shop/checkout")!==-1){loadCartToCheckout(n);var t=getCookie(CURRENT_USER_ID),i=getCookie(ORDER_ID);t!=""&&i==""?getCurrentUser():loadCurrentOrder()}URL.indexOf("/shop/shoppingcart")!==-1&&loadCartToShoppingCart(n);$("#loading").hide()}else $("#loading").hide()},error:function(){$("#loading").hide()}})}function loadDataToCart(n){$("#totalItemsInCart").html("");$("#totalItemsInCart").append(n.totalItem+" item(s)");$("#totalItemsInCartBadge").html("");$("#totalItemsInCartBadge").append(n.totalItem);$("#itemListInCart").html("");var t="";$.each(n.data.CartItemList,function(n,i){var r='<div class="single-cart clearfix"><div class="cart-image"><a href="/shop/product?productId='+i.ProductId+"&productName="+i.Name+'"><img src="'+i.PrimaryImage+'" alt=""><\/a><\/div><div class="cart-info"><h5><a href="/shop/product?productId='+i.ProductId+'">'+i.Name+"<\/a><\/h5><p>Price : $"+i.FinalPrice+"<\/p><p>Qty : "+i.Quantity+'<\/p><a class="cart-delete" onclick="updateCurrentCart('+i.ProductId+', 0)" title="Remove this item"><i class="pe-7s-trash"><\/i><\/a><\/div><\/div >';t+=r});$("#itemListInCart").append(t);$("#totalPriceExGstInCart").html("");$("#btnCheckout").html("");t!==""?($("#smallCartInformation").show(),$("#totalPriceExGstInCart").append("$"+n.data.TotalAmountIncGst),$("#btnCheckout").append('<a href="/shop/shoppingcart">Check out<\/a>')):$("#smallCartInformation").hide()}function clearDataToCart(){$("#totalItemsInCart").html("");$("#totalItemsInCartBadge").text(0);$("#itemListInCart").html("");$("#totalPriceExGstInCart").html("")}function loadCartToCheckout(n){$("#productListCheckout").html("");var t="";$.each(n.data.CartItemList,function(n,i){var r='<tr><td class="product-name">'+i.Name+'<strong class="product-qty"> × '+i.Quantity+'<\/strong><\/td ><td class="product-total"><span class="amount">$'+i.FinalPrice+"<\/span><\/td><\/tr >";t+=r});$("#productListCheckout").append(t);$("#cartSubTotal").html("");$("#cartSubTotal").append("$"+n.data.TotalAmountExGst);$("#cartGST").html("");$("#cartGST").append("$"+n.data.Gst);$("#shippingFee").html("");$("#shippingFee").append("$"+n.data.ShippingFee);$("#checkoutDeliveryStatus").html("");$("#checkoutDeliveryStatus").append(n.data.EstimateDelivery);$("#cartDiscount").html("");$("#cartDiscount").append("- $"+n.data.Discount);n.data.Discount>0?$(".discountSection").show():$(".discountSection").hide();$(".promotionAppliedDisplay").html("");n.data.PromotionCode&&n.data.PromotionCode!==""&&$(".promotionAppliedDisplay").append("<p class='text-primary'>"+n.data.PromotionCode+" has been applied <a onclick='applyPromotionCode(true)'><i class='fa fa-close'><\/i><\/a><\/p>");$("#cartTotal").html("");$("#cartTotal").append("$"+n.data.TotalFinalPrice);n.data.HomeMailAvailable?$("#homeMailDelivery").prop("disabled",!1):$("#homeMailDelivery").prop("disabled",!0)}function loadCartToShoppingCart(n){$("#productListShoppingCart").html(null);$("#productListShoppingCartMobile").html(null);var t="",i="";$.each(n.data.CartItemList,function(n,r){var f='<tr><td class="pro-thumbnail"><a href="/shop/product?productId='+r.ProductId+"&productName="+r.Name+'"><img src="'+r.PrimaryImage+'" alt="" /><\/a><\/td><td class="pro-title"><a href="/shop/product?productId='+r.ProductId+"&productName="+r.Name+'">'+r.Name+'<\/a><\/td><td class="pro-price"><span class="amount">$'+r.DiscountPrice+'<\/span><\/td><td class="pro-quantity"><div class="product-quantity"><input type="text" id="quan_'+r.ProductId+'" value="'+r.Quantity+'" min="0" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"/><\/div><\/td><td class="pro-subtotal">$'+r.FinalPrice+'<\/td><td class="pro-quantity cart-buttons"><input type="hidden" id="quan_hide_'+r.ProductId+'" value="'+r.Quantity+'" /><input type="submit" onclick="updateCurrentCart('+r.ProductId+', -99)" value="Update" style="width: 100%"/><\/td><td class="pro-remove"><a onclick="updateCurrentCart('+r.ProductId+', 0)">×<\/a><\/td><\/tr>',u;t+=f;u='<div class="row pro-container"><div class="col-xs-12"><div class="pro-thumbnail mt-15 mb-15"><a href="/shop/product?productId='+r.ProductId+"&productName="+r.Name+'"><img class="img-thumbnail" src="'+r.PrimaryImage+'" alt="" /><\/a ><\/div > <h3 class="pro-title text-center"><a href="/shop/product?productId='+r.ProductId+"&productName="+r.Name+'">'+r.Name+'<\/a><\/h3> <h2 class="pro-price text-center"><span class="amount">$'+r.DiscountPrice+'<\/span><\/h2><\/div > <div class="container-fluid"><div class="row"><div class="col-xs-12"><div class="pro-quantity"><div class="product-quantity"><input type="text" id="quan_mobile_'+r.ProductId+'" value="'+r.Quantity+'" min="0" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57"/><\/div><\/div><\/div><div class="col-xs-12 mt-10"><h4 class="pro-subtotal text-center pt-15 pb-15">Total $'+r.FinalPrice+'<\/h4><\/div><div class="col-xs-6" style="border-right: 1px solid #dfdfdf"><h4 class="pro-remove text-center"><input type="hidden" id="quan_hide_mobile_'+r.ProductId+'" value="'+r.Quantity+'" /><a onclick="updateCurrentCart('+r.ProductId+', -99, true)">Update quantity<\/a><\/h4><\/div><div class="col-xs-6" style="border-left: 1px solid #dfdfdf"><h4 class="pro-remove text-center"><a onclick="updateCurrentCart('+r.ProductId+', 0)">Delete<\/a><\/h4><\/div><\/div><\/div><\/div>';i+=u});$("#productListShoppingCart").append(t);$("#productListShoppingCartMobile").append(i);$("#subTotalShoppingCart").html("");$("#subTotalShoppingCart").append("$"+n.data.TotalAmountExGst);$("#shippingFeeShoppingCart").html("");$("#shippingFeeShoppingCart").append("$"+n.data.ShippingFee);$("#subTotalShoppingCartMobile").html("");$("#subTotalShoppingCartMobile").append("$"+n.data.TotalAmountExGst);$("#shippingFeeShoppingCartMobile").html("");$("#shippingFeeShoppingCartMobile").append("$"+n.data.ShippingFee);$(".promotionAppliedDisplay").html("");n.data.PromotionCode&&n.data.PromotionCode!=="NO"&&$(".promotionAppliedDisplay").append("<p class='text-primary'>"+n.data.PromotionCode+" has been applied <a onclick='applyPromotionCode(true)'><i class='fa fa-close'><\/i><\/a><\/p>");$("#totalShoppingCart").html("");$("#totalShoppingCart").append("$"+n.data.TotalFinalPrice);$("#totalShoppingCartMobile").html("");$("#totalShoppingCartMobile").append("$"+n.data.TotalFinalPrice);$(".product-quantity").append('<span class="dec qtybtn"><i class="fa fa-angle-left"><\/i><\/span><span class="inc qtybtn"><i class="fa fa-angle-right"><\/i><\/span>');$(".qtybtn").on("click",function(){var n=$(this),t=n.parent().find("input").val(),i=0;i=n.hasClass("inc")?parseFloat(t)+1:t>1?parseFloat(t)-1:1;n.parent().find("input").val(i)})}function updateCurrentCart(n,t,i){var r,u;$("#loading").show();var o=getCookie(SHOPPING_CART_ID),f=!1,e=!1;if(t===-99){if(r=0,u=0,i===!0?(r=$("#quan_hide_mobile_"+n).val(),u=$("#quan_mobile_"+n).val()):(r=$("#quan_hide_"+n).val(),u=$("#quan_"+n).val()),r===u)return $("#loading").hide(),!1;t=u-r;e=!0}t===0&&(f=!0);$.ajax({cache:!1,type:"POST",url:DOMAIN+"/ShoppingCart/UpdateCurrentCart",data:{CartId:o,ProductId:n,Quantity:t},async:!0,dataType:"json",timeout:3e4,success:function(n){n.success===!0?(loadDataToCart(n),URL.indexOf("/shop/shoppingcart")!==-1&&loadCartToShoppingCart(n),URL.indexOf("/shop/checkout")!==-1&&loadCartToCheckout(n),$("#loading").hide(),f?openMessage("The item has been removed out of your shopping cart!"):e?openMessage("Your shopping cart has been updated successfully!"):openShoppingModal()):(openMessage("Cannot add item to cart. There were some errors in the process! <\/br>"+n.message),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function processCheckout(){$("#loading").show();var t=getCookie(SHOPPING_CART_ID),i=getCookie(CURRENT_USER_ID),n=getCookie(ORDER_ID),r=$("#deliveryToDeifferentAddress").is(":checked");r===!1&&copyBillingToDeliveryForm();$.ajax({cache:!1,type:"POST",url:DOMAIN+"/Order/Checkout",data:{Id:n!==""?n:0,CartId:t!==""?t:0,UserId:i!==""?i:0,FirstName:$("#billingFirstName").val(),LastName:$("#billingLastName").val(),CompanyName:$("#billingCompanyName").val(),Address:$("#billingAddress").val()+" "+$("#billingAddress2").val(),Suburb:$("#billingSuburb").val(),Postcode:$("#billingPostcode").val(),State:$("#billingState").val(),Country:$("#billingCountry").val(),Email:$("#emailAddress").val(),Phone:$("#phone").val(),DeliveryFirstName:$("#deliveryFirstName").val(),DeliveryLastName:$("#deliveryLastName").val(),DeliveryCompanyName:$("#deliveryCompanyName").val(),DeliveryAddress:$("#deliveryAddress").val()+" "+$("#deliveryAddress2").val(),DeliverySuburb:$("#deliverySuburb").val(),DeliveryPostcode:$("#deliveryPostcode").val(),DeliveryState:$("#deliveryState").val(),DeliveryCountry:$("#deliveryCountry").val(),Note:$("#order_note").val(),Method:PAYMENT_METHOD,CardFirstName:$("#cardFirstName").val(),CardLastName:$("#cardLastName").val(),CardNumber:$("#cardNumber").val(),MonthExpire:$("#monthExpire").val(),YearExpire:$("#yearExpire").val(),CCV:$("#ccv").val(),CreditCardType:"visa",EVoucherSerialNo:$("#evoucherSerialNo").val(),ActivationCode:$("#evoucherActivationCode").val()},dataType:"json",timeout:35e3,success:function(t){t.success===!0?t.urlReturn!==""&&t.urlReturn!=="EVoucher"?($("#loading").hide(),window.location.href=t.urlReturn):t.urlReturn==="EVoucher"?(loadCurrentCart(),$("#loading").hide(),$("#evoucherBalance").val(null),$("#evoucherSerialNo").val(null),$("#evoucherActivationCode").val(null),openMessage("Your e-voucher has been successfully added to your card!")):($("#loading").hide(),window.location.href="/shop/checkout/orderconfirmation?id="+n):(openMessage("Cannot make a payment. There were some errors in the process!"),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function copyBillingToDeliveryForm(){$("#deliveryFirstName").val($("#billingFirstName").val());$("#deliveryLastName").val($("#billingLastName").val());$("#deliveryCompanyName").val($("#billingCompanyName").val());$("#deliveryAddress").val($("#billingAddress").val());$("#deliverySuburb").val($("#billingSuburb").val());$("#deliveryPostcode").val($("#billingPostcode").val());$("#deliveryState").val($("#billingState").val());$("#deliveryCountry").val($("#billingCountry").val())}function clearDeliveryForm(){$("#deliveryFirstName").val("");$("#deliveryLastName").val("");$("#deliveryCompanyName").val("");$("#deliveryAddress").val("");$("#deliveryAddress2").val("");$("#deliverySuburb").val("");$("#deliveryPostcode").val("");$("#deliveryState").val("");$("#deliveryCountry").val("")}function choosePaymentMethod(n){PAYMENT_METHOD=n===1?"CreditCard":n===2?"PayPal":n===3?"EVoucher":n===4?"AfterPay":"ZipPay"}function loadOrderConfirmation(){$("#loading").show();var n=getCookie(ORDER_ID);(n===null||n==="")&&(n=getUrlParameter("id"));$.ajax({cache:!1,type:"GET",url:DOMAIN+"/Order/GetOrderConfirmation",data:{orderId:n!==""?n:0},dataType:"json",timeout:35e3,success:function(n){var t,i,r;n.success===!0?($("#helloOrderConfirmation").html(""),$("#helloOrderConfirmation").append("&nbsp; Hello "+n.data.Checkout.FirstName+" "+n.data.Checkout.LastName+","),$("#thankyouPayment").html(""),$("#thankyouPayment").append("Your order "+n.data.Checkout.Id+" is currently being processed. We'll send you an email when your order is on its way."),$("#productListOrderConfirmation").html(""),t="",$.each(n.data.ShoppingCart.CartItemList,function(n,i){var r='<tr><td class="pro-thumbnail"><a href="/shop/product?productId='+i.ProductId+'"><img src="'+i.PrimaryImage+'" alt="" /><\/a><\/td><td class="pro-title"><a href="/shop/product?productId='+i.ProductId+'">'+i.Name+'<\/a><\/td><td class="pro-price"><span class="amount">$'+i.DiscountPrice+'<\/span><\/td><td class="pro-quantity">'+i.Quantity+'<\/td><td class="pro-subtotal">$'+i.FinalPrice+"<\/td>";t+=r}),$("#productListOrderConfirmation").append(t),$("#subTotalOrderConfirmation").html(""),$("#subTotalOrderConfirmation").append("$"+n.data.ShoppingCart.TotalAmountExGst),$("#gstOrderConfirmation").html(""),$("#gstOrderConfirmation").append("$"+n.data.ShoppingCart.Gst),$("#shippingFeeOrderConfirmation").html(""),$("#shippingFeeOrderConfirmation").append("$"+n.data.ShoppingCart.ShippingFee),$("#cartDiscountOrderConfirmation").html(""),$("#cartDiscountOrderConfirmation").append("- $"+n.data.ShoppingCart.Discount),$("#totalOrderConfirmation").html(""),$("#totalOrderConfirmation").append("$"+n.data.ShoppingCart.TotalFinalPrice),$("#billingOrderConfirmation").html(""),$("#billingOrderConfirmation").append("<span>"+n.data.Checkout.FirstName+" "+n.data.Checkout.LastName+"<\/span><br /><span>"+n.data.Checkout.CompanyName+"<\/span > <br /><span>"+n.data.Checkout.Address+"<\/span > <br /><span>"+n.data.Checkout.Suburb+", "+n.data.Checkout.State+" "+n.data.Checkout.Postcode+"<\/span> <br /><span>"+n.data.Checkout.Country+"<\/span><br /><span>"+n.data.Checkout.Email+"<\/span> <br /><span>"+n.data.Checkout.Phone+"<\/span>"),$("#deliveryOrderConfirmation").html(""),i="<span>"+n.data.Checkout.DeliveryFirstName+" "+n.data.Checkout.DeliveryLastName+"<\/span><br /><span>"+n.data.Checkout.CompanyName+"<\/span > <br /><span>"+n.data.Checkout.DeliveryAddress+"<\/span > <br /><span>"+n.data.Checkout.DeliverySuburb+", "+n.data.Checkout.DeliveryState+" "+n.data.Checkout.DeliveryPostcode+"<\/span> <br /><span>"+n.data.Checkout.DeliveryCountry+"<\/span>",n.data.Checkout.ShippingMethod=="CLICK_AND_COLLECT"?(r='<img src="/images/app/clickandcollect.svg" width="160" />',$("#deliveryOrderConfirmation").append(r)):n.data.Checkout.ShippingMethod=="HOME_MAIL"?$("#deliveryOrderConfirmation").append(i+'<img src="/images/app/homemail.svg" width="160" />'):$("#deliveryOrderConfirmation").append(i+'<img src="/images/app/auspost_logo.png" width="100" />'),$("#totalItemsInCartBadge").val(0),clearDataToCart(),$("#loading").hide()):(openMessage(n.message),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function loadCurrentOrder(){$("#loading").show();var n=getCookie(ORDER_ID);$.ajax({cache:!1,type:"GET",url:DOMAIN+"/Order/GetOrderByOrderId",data:{orderId:n!==""?n:0},dataType:"json",timeout:35e3,async:!0,success:function(n){n.success===!0?($("#billingCountry").val(n.data.Checkout.Country),$("#billingFirstName").val(n.data.Checkout.FirstName),$("#billingLastName").val(n.data.Checkout.LastName),$("#billingCompanyName").val(n.data.Checkout.CompanyName),$("#billingAddress").val(n.data.Checkout.Address),$("#billingSuburb").val(n.data.Checkout.Suburb),$("#billingState").val(n.data.Checkout.State),$("#billingPostcode").val(n.data.Checkout.Postcode),$("#emailAddress").val(n.data.Checkout.Email),$("#phone").val(n.data.Checkout.Phone),$("input:radio[name=shippingMethod]").val([n.data.Checkout.ShippingMethod]),n.data.Checkout.DeliveryToDeifferentAddress&&($("#deliveryToDeifferentAddress").prop("checked",n.data.Checkout.DeliveryToDeifferentAddress),$("#deliveryCountry").val(n.data.Checkout.DeliveryCountry),$("#deliveryFirstName").val(n.data.Checkout.DeliveryFirstName),$("#deliveryLastName").val(n.data.Checkout.DeliveryLastName),$("#deliveryCompanyName").val(n.data.Checkout.DeliveryCompanyName),$("#deliveryAddress").val(n.data.Checkout.DeliveryAddress),$("#deliverySuburb").val(n.data.Checkout.DeliverySuburb),$("#deliveryState").val(n.data.Checkout.DeliveryState),$("#deliveryPostcode").val(n.data.Checkout.DeliveryPostcode),$("#shipping_form").show()),$("#loading").hide()):$("#loading").hide()},error:function(n,t,i){alert(n.status);alert(i);$("#loading").hide()}})}function getCurrentUser(){$("#loading").show();$.ajax({cache:!1,type:"GET",url:DOMAIN+"/UserProfile/GetCurrentUser",dataType:"json",timeout:35e3,async:!0,success:function(n){n.success===!0?($("#billingCountry").val(n.data.Country),$("#billingFirstName").val(n.data.FirstName),$("#billingLastName").val(n.data.LastName),$("#billingCompanyName").val(n.data.CompanyName),$("#billingAddress").val(n.data.Address),$("#billingSuburb").val(n.data.Suburb),$("#billingState").val(n.data.State),$("#billingPostcode").val(n.data.Postcode),$("#emailAddress").val(n.data.Email),$("#phone").val(n.data.Phone),$("#loading").hide()):$("#loading").hide()},error:function(n,t,i){alert(n.status);alert(i);$("#loading").hide()}})}function saveOrderAndReCalculate(n){var l,a;$("#loading").show();var t=getCookie(SHOPPING_CART_ID),i=getCookie(CURRENT_USER_ID),r=getCookie(ORDER_ID),u=$("#billingFirstName").val(),f=$("#billingLastName").val(),e=$("#billingAddress").val(),o=$("#billingSuburb").val(),s=$("#billingPostcode").val(),h=$("#billingState").val(),c=$("#billingCountry").val();if(u===null||u===""||f===null||f===""||e===null||e===""||o===null||o==="",s===null||s===""||h===null||h===""||c===null||c==="")return openMessage("Please fill up all your personal information before choose shipping method or place order!"),$("#loading").hide(),!1;l=$("#deliveryToDeifferentAddress").is(":checked");l===!1&&copyBillingToDeliveryForm();a=$("input[name=shippingMethod]:checked").val();$.ajax({cache:!1,type:"POST",url:DOMAIN+"/Order/PlaceOrder",data:{Id:r!==""?r:0,CartId:t!==""?t:0,UserId:i!==""?i:0,FirstName:$("#billingFirstName").val(),LastName:$("#billingLastName").val(),CompanyName:$("#billingCompanyName").val(),Address:$("#billingAddress").val(),Suburb:$("#billingSuburb").val(),Postcode:$("#billingPostcode").val(),State:$("#billingState").val(),Country:$("#billingCountry").val(),Email:$("#emailAddress").val(),Phone:$("#phone").val(),DeliveryFirstName:$("#deliveryFirstName").val(),DeliveryLastName:$("#deliveryLastName").val(),DeliveryCompanyName:$("#deliveryCompanyName").val(),DeliveryAddress:$("#deliveryAddress").val(),DeliverySuburb:$("#deliverySuburb").val(),DeliveryPostcode:$("#deliveryPostcode").val(),DeliveryState:$("#deliveryState").val(),DeliveryCountry:$("#deliveryCountry").val(),Note:$("#order_note").val(),ShippingMethod:a},dataType:"json",async:!0,timeout:35e3,success:function(t){t.success===!0?(loadCurrentCart(),n&&$(".payment-method").show("slow"),$("#loading").hide()):(t.message==="Sorry, our HomeMail service is not available in your area. Please accept Australia Post instead of HomeMail!"&&$("#ausPostDelivery").prop("checked",!0),openMessage(t.message),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function applyPromotionCode(n,t){$("#loading").show();var r=getCookie(SHOPPING_CART_ID),i="REMOVE";n||(i=$(".promotionCode").val(),t&&(i=$(".promotionCode_mobile").val()));$.ajax({cache:!1,type:"POST",url:DOMAIN+"/ShoppingCart/ApplyPromotionCode",data:{cartId:r,promotionCode:i},async:!0,dataType:"json",timeout:3e4,success:function(t){t.success===!0?(loadDataToCart(t),URL.indexOf("/shop/shoppingcart")!==-1&&loadCartToShoppingCart(t),URL.indexOf("/shop/checkout")!==-1&&loadCartToCheckout(t),$("#loading").hide(),n?openMessage("Your coupon has been removed successfully!"):openMessage("Your coupon has been added to your shopping cart!")):(t.message!=null&&t.message!=""?openMessage(t.message):openMessage("Cannot add this coupon to your cart. There were some errors in the process!"),$("#loading").hide());$(".promotionCode").val(null)},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function checkEVoucherBalance(){$("#loading").show();$("#evoucherBalance").val(null);var n=$("#evoucherSerialNo").val(),t=$("#evoucherActivationCode").val();n&&n!==""&&t&&t!==""?$.ajax({cache:!1,type:"GET",url:DOMAIN+"/EVoucher/CheckBalance",dataType:"json",data:{serialNo:n,activationCode:t},timeout:35e3,async:!0,success:function(n){n.success===!0?($("#evoucherBalance").val("$"+n.data),$("#loading").hide()):(openMessage(n.message),$("#loading").hide())},error:function(n,t,i){alert(n.status);alert(i);$("#loading").hide()}}):(openMessage("Please enter your evoucher information before checking balance!"),$("#loading").hide())}function addToCartWithoutAnyMessage(n,t){var i=getCookie(SHOPPING_CART_ID),r=$.ajax({cache:!1,type:"POST",url:DOMAIN+"/ShoppingCart/AddWishlistToCart",async:!0,data:{CartId:i!==""?i:0,ProductIds:n,Quantity:t},dataType:"json",timeout:6e4,success:function(n){n.success===!0?(loadCurrentCart(),$("#loading").hide(),openShoppingModal()):(loadCurrentCart(),$("#loading").hide(),openMessage("Cannot add this item to cart. There were some errors in the process! <\/br>"+n.message))},error:function(n,t,i){openMessage(n.status+" / "+i)}});return r.promise()}function addWishlistToCart(){$("#loading").show();var n=[];$('tr[class="productWl"]').each(function(t,i){n.push(i.dataset.index)});n.length>0?addToCartWithoutAnyMessage(n,1):($("#loading").hide(),openMessage("You don't have any item in wishlist!"))}var SHOPPING_CART_ID="SHOPPING_CART_ID",CURRENT_USER_ID="USER_ID",ORDER_ID="ORDER_ID",DOMAIN=location.protocol+"//"+location.host,URL=window.location.href,PAYMENT_METHOD="CreditCard",AUS_POST="AUS_POST",HOME_MAIL="HOME_MAIL";$(document).ready(function(){URL.indexOf("/shop/checkout/orderconfirmation")===-1&&loadCurrentCart();$("#ship_form").click(function(){var n=$(this).is(":checked");n===!1?copyBillingToDeliveryForm():clearDeliveryForm()});$("input:radio[name=shippingMethod]").change(function(){var n=saveOrderAndReCalculate(!1);n||$("#ausPostDelivery").prop("checked",!0)})});