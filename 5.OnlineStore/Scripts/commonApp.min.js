function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+";"+u+";path=/"}function getCookie(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)===" ";)t=t.substring(1);if(t.indexOf(r)===0)return t.substring(r.length,t.length)}return""}function subcribe(n){var t=n.val();$.ajax({cache:!1,type:"POST",url:DOMAIN+"/Subcription/Subcribe",async:!1,data:{EmailSubcribed:t},dataType:"json",timeout:5e3,success:function(t){t.success==!0?(openMessage(t.message),n.val("")):openMessage(t.error)}});event.preventDefault()}function getUrlParameter(n){for(var u=decodeURIComponent(window.location.search.substring(1)),r=u.split("&"),t,i=0;i<r.length;i++)if(t=r[i].split("="),t[0]===n)return t[1]===undefined?!0:t[1]}function openMessage(n){var t=$("#messageModal"),i=$(".modal-content");$("#messageContent").html("");$("#messageContent").html(n);t.css({display:"block"}).animateCss("fadeIn");i.animateCss("rollIn");isShowModal=!0}function closeMessage(){var n=$("#messageModal"),t=$(".modal-content");t.animateCss("bounceOutLeft");n.animateCss("fadeOut",function(){n.css({display:"none"})});isShowModal=!1}function openShoppingModal(){var n=$("#shoppingModal"),t=$(".modal-content-shopping");n.css({display:"block"}).animateCss("fadeIn");t.animateCss("rollIn");isShowModal=!0}function closeShopping(){var n=$("#shoppingModal"),t=$(".modal-content-shopping");t.animateCss("bounceOutLeft");n.animateCss("fadeOut",function(){n.css({display:"none"})});isShowModal=!1}function saveContactMessage(){$("#loading").show();var n=document.getElementById("contact-form");if(!n.elements.contactName.checkValidity()||!n.elements.contactEmail.checkValidity())return $("#loading").hide(),!1;$.ajax({cache:!1,type:"POST",url:DOMAIN+"/Contact/SubmitMessage",data:{ContactName:$("#contactName").val(),ContactPhone:$("#contactPhone").val(),ContactEmail:$("#contactEmail").val(),Subject:$("#subject").val(),Message:$("#message").val()},dataType:"json",async:!0,timeout:35e3,success:function(n){n.success==!0?($("#loading").hide(),openMessage("Your message has been sent to us! We will touch to you soon!"),$("#contactName").val(null),$("#contactPhone").val(null),$("#contactEmail").val(null),$("#subject").val(null),$("#message").val(null)):(openMessage("Your message coudn't be sent to us, please try again!"),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}});$("#loading").hide();event.preventDefault()}function searchPrice(){var n=$("#price-slider-max").text().replace("$",""),t=$("#price-slider-min").text().replace("$",""),i=getUrlParameter("CurrentSearch"),r=getUrlParameter("PageNo")}function outOfStock(n,t){openMessage("This item is out of stock, please <a class='text-primary' href='/shop/product?productId="+n+"&productName="+t+"'>click here<\/a> go to product detail page to pre-order!")}function removeWishlist(n){$("#loading").show();$.ajax({cache:!1,type:"POST",url:DOMAIN+"/Product/DeleteWishlist",data:{wishlistId:n},async:!0,dataType:"json",timeout:3e4,success:function(n){n.success===!0?(loadWishlist(),openMessage("Removed product out of your wishlist sucessfully!"),$("#loading").hide()):(openMessage("Cannot remove this product out of wishlist. There were some errors in the process!"),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function loadWishlist(){$("#loading").show();$("#productListWishlist").html(null);$.ajax({cache:!1,type:"GET",url:DOMAIN+"/Product/GetWishlish",async:!0,dataType:"json",timeout:3e4,success:function(n){if(n.success===!0){var t="";$.each(n.data,function(n,i){var r="",u;r=i.Product.InStock==="InStock"?'<td class="text-center text-primary"><i class="\tfa fa-star"><\/i><i class="fa fa-star"><\/i><i class="fa fa-star"><\/i><\/td>':i.Product.InStock==="LowStock"?'<td class="text-center text-warning"><i class="fa fa-star"><\/i><i class="fa fa-star-half-empty"><\/i><i class="fa fa-star-o"><\/i><\/td>':'<td class="text-center text-danger"><i class="fa fa-star-o"><\/i><i class="fa fa-star-o"><\/i><i class="fa fa-star-o"><\/i><\/td>';u='<tr class="productWl" data-index="'+i.ProductId+'"><td class="pro-thumbnail"><a href="/shop/product?productId='+i.ProductId+"&productName="+i.Product.Name+'"><img src="'+i.Product.PrimaryImage+'" alt="" /><\/a><\/td><td class="pro-title"><a href="">'+i.Product.CategoryName+'<\/a><\/td><td class="pro-title"><a href="/shop/product?productId='+i.ProductId+'">'+i.Product.Name+'<\/a><\/td><td class="pro-title">'+i.Product.Namekey+'<\/td><td class="pro-price"><span class="amount">$'+i.Product.OriginalPrice+'<\/span><\/td><td class="pro-price">$'+i.Product.DiscountPrice+"<\/td>"+r+'<td class="pro-remove"><a onclick="removeWishlist('+i.Id+')">Ã—<\/a><\/td><\/tr > ';t+=u});$("#productListWishlist").append(t);$("#loading").hide()}},error:function(n,t,i){alert(n.status);alert(i);$("#loading").hide()}})}function addWishlist(n){$("#loading").show();$.ajax({cache:!1,type:"POST",url:DOMAIN+"/Product/AddProductToWishlist",data:{productId:n},async:!0,dataType:"json",timeout:3e4,success:function(n){n.success===!0?(openMessage("This item has been added successfully to your wishlist!"),$(".wishlistLoading").html(null),$(".wishlistLoading").append('<a class="text-primary"><i class="fa fa-heart" style="margin-top: -2px;"><\/i> In your Wishlist<\/a>'),$("#loading").hide()):(openMessage(n.message),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function likeProduct(n){$("#loading").show();$.ajax({cache:!1,type:"POST",url:DOMAIN+"/Product/LikeProduct",data:{productId:n},async:!0,dataType:"json",timeout:3e4,success:function(t){t.success===!0?($(".likeProductLoading").html(null),t.added===!0?$(".likeProductLoading").append('<a onclick="likeProduct('+n+')" class="text-primary"><i class= "fa fa-thumbs-o-up" style = "margin-top: -2px;" ><\/i>'+t.value.NumberOfLiked+" Liked<\/a>"):$(".likeProductLoading").append('<a onclick="likeProduct('+n+')"><i class= "fa fa-thumbs-o-up" style = "margin-top: -2px;" ><\/i>'+t.value.NumberOfLiked+" Like<\/a>"),$("#loading").hide()):(openMessage(t.message),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function reviewProduct(n){$("#loading").show();var t=$("#ratings-hidden").val(),i=$("#new-review").val();$.ajax({cache:!1,type:"POST",url:DOMAIN+"/Product/ReviewProduct",data:{productId:n,comment:i,rating:t},async:!0,dataType:"json",timeout:3e4,success:function(n){n.success===!0?(bindingReview(n.data),$("#new-review").text(null),$("#new-review").val(null),$(".glyphicon").removeClass("glyphicon-star"),$(".glyphicon").addClass("glyphicon-star-empty"),$("#loading").hide()):(openMessage(n.message),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function bindingReview(n){var t=getCookie(CURRENT_USER_ID),i=!1,r;t>0&&t!=""&&(i=!0);$(".reviewSection").html(null);r="";$.each(n.ReviewedProduct,function(n,u){var e="",f,o;if(u.Rating>0)for(f=1;f<=5;f++)e+=f<=u.Rating?i&&t==u.UserId?'<i class="fa fa-star checked"><\/i>':'<i class="fa fa-star"><\/i>':i&&t==u.UserId?'<i class="fa fa-star-o checked"><\/i>':'<i class="fa fa-star-o"><\/i>';o='<div class="row"><div class="col-sm-12" ><div class="review-block"><div class="row"><div class="col-sm-3 text-center"><div class="chip"><img src="'+u.UserAvatar+'" alt="Person" width="96" height="96">'+u.UserFullname+'<\/div><br /><br /><\/div><div class="col-sm-9"><div class="review-block-rate">'+e+'<\/div><div class="review-block-description">'+u.Comment+'<p class="text-justify">'+u.CreatedAt+"<\/p><\/div><\/div ><\/div><\/div><\/div><\/div>";r+=o});$(".reviewSection").append(r)}function preOrder(){var n=$("#preOrderModal"),t=$(".modal-content-preOrder");n.css({display:"block"}).animateCss("fadeIn");t.animateCss("rollIn");isShowModal=!0}function closePreOrder(){var n=$("#preOrderModal"),t=$(".modal-content-preOrder");t.animateCss("bounceOutLeft");n.animateCss("fadeOut",function(){n.css({display:"none"})});isShowModal=!1}function placePreOrder(){$("#loading").show();var n=$("#firstNamePreOrder").val(),t=$("#lastNamePreOrder").val(),i=$("#emailPreOrder").val(),r=$("#phonePreOrder").val(),u=getUrlParameter("productId");if(n===""||n===undefined||t===""||t===undefined||i===""||i===undefined||r===""||r===undefined){openMessage("Please fill all required information!");$("#loading").hide();return}$.ajax({cache:!1,type:"POST",url:DOMAIN+"/PreOrder/CreatePreOrder",data:{FirstName:n,LastName:t,Email:i,Phone:r,ProductId:u},async:!0,dataType:"json",timeout:3e4,success:function(n){n.success===!0?(openMessage(n.message),$("#loading").hide(),closePreOrder()):(openMessage(n.message),$("#loading").hide())},error:function(n,t,i){openMessage(n.status+" / "+i);$("#loading").hide()}})}function stringIsEmptyOrSpaces(n){return n===null||n.match(/^ *$/)!==null||n===null||n===undefined}var DOMAIN=location.protocol+"//"+location.host,ITEMS_PER_PAGE=getCookie("ITEMS_PER_PAGE")!==""?getCookie("ITEMS_PER_PAGE"):12,SORT_BY=getCookie("SORT_BY")!==""?getCookie("SORT_BY"):"";$(document).ready(function(){$(".main-menu ul a").click(function(){var t=$(this),n=t.parent("li");n.hasClass("active")?n.removeClass("active").children("a").removeClass("active"):n.addClass("active").children("a").addClass("active")}).each(function(){var n=$(this);n.get(0).href===location.href&&n.addClass("active").parents("li").addClass("active")});$("#selectItemsPerPage").change(function(){ITEMS_PER_PAGE=$("#selectItemsPerPage").val();setCookie("ITEMS_PER_PAGE",ITEMS_PER_PAGE,100);location.reload()});$("#sortBy").change(function(){SORT_BY=$("#sortBy").val();setCookie("SORT_BY",SORT_BY,100);location.reload()});$("#new-review").autosize({append:"\n"});var i=$("#post-review-box"),r=$("#new-review"),n=$("#open-review-box"),t=$("#close-review-box"),u=$("#ratings-hidden");n.click(function(){i.slideDown(400,function(){$("#new-review").trigger("autosize.resize");r.focus()});n.fadeOut(100);t.show()});t.click(function(u){u.preventDefault();i.slideUp(300,function(){r.focus();n.fadeIn(200)});t.hide()});$(".starrr").on("starrr:change",function(n,t){u.val(t)})});$.fn.extend({animateCss:function(n,t){var i=function(n){var t={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(var i in t)if(n.style[i]!==undefined)return t[i]}(document.createElement("div"));this.addClass("animated "+n).one(i,function(){$(this).removeClass("animated "+n);typeof t=="function"&&t()});return this}});