@using CoreLibrary.Data
@model BusinessService.Models.Common.HomePageModel
@{
    ViewBag.Title = @Model.CurrentProductDetail.Name;
    ViewBag.Description = Model.CurrentProductDetail.Description;
}

<!-- PAGE BANNER SECTION -->
<div class="page-banner-section section">
    <div class="container hidden-xs">
        <div class="row">
            <div class="page-banner-content col-xs-12">
                <h2><img src="~/images/app/productdetail.svg" class="icon_svg_title pb-10" />&nbsp; Product Details</h2>
                <ul class="breadcrumb">
                    <li><a href="/">Home</a></li>
                    <li><a href="/shop">Shop</a></li>
                    <li class="active"><b>Product Details - @Model.CurrentProductDetail.Name</b></li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container-fluid hidden-sm hidden-md hidden-lg">
        <div class="row">
            <div class="page-banner-content col-xs-12">
                <h2><img src="~/images/app/productdetail.svg" class="icon_svg_title pb-10" />&nbsp; Product Details</h2>
                <ul class="breadcrumb">
                    <li><a href="/">Home</a></li>
                    <li><a href="/shop">Shop</a></li>
                    <li class="active"><b>Product Details - @Model.CurrentProductDetail.Name</b></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- END PAGE BANNER SECTION -->
<!-- PAGE SECTION START -->
<div class="page-section section pt-30 pb-30">
    <div class="@(Request.Browser.IsMobileDevice == true ? "container-fluid" : "container")">
        <div class="row mb-10">
            <div class="col-xs-12 col-sm-6 col-md-4 mb-40">
                <!-- Tab panes -->
                <div class="tab-content mb-10">
                    <div class="pro-large-img tab-pane active" id="pro-large-img-1">
                        <div class="enlarge_pane_contain">
                            <div class="enlarge_pane">
                                <div class="enlarge">
                                    <div class="enlarge_contain">
                                        <img src="@Model.CurrentProductDetail.PrimaryImage" srcset="@Model.CurrentProductDetail.PrimaryImage 480w, @Model.CurrentProductDetail.PrimaryImage 1200w, @Model.CurrentProductDetail.PrimaryImage 2000w" sizes="100vw" alt="" id="primary-img">
                                    </div>
                                    <a href="@Model.CurrentProductDetail.PrimaryImage" class="enlarge_btn" title="Toggle Zoom">Toggle Zoom</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage1))
                    {
                        <div class="pro-large-img tab-pane" id="pro-large-img-2">
                            <div class="enlarge_pane_contain">
                                <div class="enlarge_pane">
                                    <div class="enlarge">
                                        <div class="enlarge_contain">
                                            <img src="@Model.CurrentProductDetail.SubImage1" srcset="@Model.CurrentProductDetail.SubImage1 480w, @Model.CurrentProductDetail.SubImage1 1200w, @Model.CurrentProductDetail.SubImage1 2000w" sizes="100vw" alt="" id="sub1-img">
                                        </div>
                                        <a href="@Model.CurrentProductDetail.SubImage1" class="enlarge_btn" title="Toggle Zoom">Toggle Zoom</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage2))
                    {
                        <div class="pro-large-img tab-pane" id="pro-large-img-3">
                            <div class="enlarge_pane_contain">
                                <div class="enlarge_pane">
                                    <div class="enlarge">
                                        <div class="enlarge_contain">
                                            <img src="@Model.CurrentProductDetail.SubImage2" srcset="@Model.CurrentProductDetail.SubImage2 480w, @Model.CurrentProductDetail.SubImage2 1200w, @Model.CurrentProductDetail.SubImage2 2000w" sizes="100vw" alt="" id="sub2-img">
                                        </div>
                                        <a href="@Model.CurrentProductDetail.SubImage2" class="enlarge_btn" title="Toggle Zoom">Toggle Zoom</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage3))
                    {
                        <div class="pro-large-img tab-pane" id="pro-large-img-4">
                            <div class="enlarge_pane_contain">
                                <div class="enlarge_pane">
                                    <div class="enlarge">
                                        <div class="enlarge_contain">
                                            <img src="@Model.CurrentProductDetail.SubImage3" srcset="@Model.CurrentProductDetail.SubImage3 480w, @Model.CurrentProductDetail.SubImage3 1200w, @Model.CurrentProductDetail.SubImage3 2000w" sizes="100vw" alt="" id="sub3-img">
                                        </div>
                                        <a href="@Model.CurrentProductDetail.SubImage3" class="enlarge_btn" title="Toggle Zoom">Toggle Zoom</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage4))
                    {
                        <div class="pro-large-img tab-pane" id="pro-large-img-5">
                            <div class="enlarge_pane_contain">
                                <div class="enlarge_pane">
                                    <div class="enlarge">
                                        <div class="enlarge_contain">
                                            <img src="@Model.CurrentProductDetail.SubImage4" srcset="@Model.CurrentProductDetail.SubImage4 480w, @Model.CurrentProductDetail.SubImage4 1200w, @Model.CurrentProductDetail.SubImage4 2000w" sizes="100vw" alt="" id="sub4-img">
                                        </div>
                                        <a href="@Model.CurrentProductDetail.SubImage4" class="enlarge_btn" title="Toggle Zoom">Toggle Zoom</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage5))
                    {
                        <div class="pro-large-img tab-pane" id="pro-large-img-6">
                            <div class="enlarge_pane_contain">
                                <div class="enlarge_pane">
                                    <div class="enlarge">
                                        <div class="enlarge_contain">
                                            <img src="@Model.CurrentProductDetail.SubImage5" srcset="@Model.CurrentProductDetail.SubImage5 480w, @Model.CurrentProductDetail.SubImage5 1200w, @Model.CurrentProductDetail.SubImage5 2000w" sizes="100vw" alt="" id="sub5-img">
                                        </div>
                                        <a href="@Model.CurrentProductDetail.SubImage5" class="enlarge_btn" title="Toggle Zoom">Toggle Zoom</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.QRCode))
                    {
                        <div class="pro-large-img tab-pane" id="pro-large-img-7">
                            <img src="@Model.CurrentProductDetail.QRCode" alt="" />
                        </div>
                    }
                    @if (Model.ProductsInSameGroupColor != null)
                    {
                        int count = 7;
                        foreach (var p in Model.ProductsInSameGroupColor.Where(x => x.Id != Model.CurrentProductDetail.Id))
                        {
                            count = count + 1;
                            <div class="pro-large-img tab-pane" id="pro-large-img-@count">
                                <div class="enlarge_pane_contain">
                                    <div class="enlarge_pane">
                                        <div class="enlarge">
                                            <div class="enlarge_contain">
                                                <img src="@p.PrimaryImage" srcset="@p.PrimaryImage 480w, @p.PrimaryImage 1200w, @p.PrimaryImage 2000w" sizes="100vw" alt="" id="sub6-img-@count">
                                            </div>
                                            <a href="@p.PrimaryImage" class="enlarge_btn" title="Toggle Zoom">Toggle Zoom</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }

                    }
                </div>
                <!-- Nav tabs -->
                <div class="pro-thumb-img-slider">
                    <div><a href="#pro-large-img-1" data-toggle="tab"><img src="@Model.CurrentProductDetail.PrimaryImage" alt="" /></a></div>
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage1))
                    {
                        <div><a href="#pro-large-img-2" data-toggle="tab"><img src="@Model.CurrentProductDetail.SubImage1" alt="" /></a></div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage2))
                    {
                        <div><a href="#pro-large-img-3" data-toggle="tab"><img src="@Model.CurrentProductDetail.SubImage2" alt="" /></a></div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage3))
                    {
                        <div><a href="#pro-large-img-4" data-toggle="tab"><img src="@Model.CurrentProductDetail.SubImage3" alt="" /></a></div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage4))
                    {
                        <div><a href="#pro-large-img-5" data-toggle="tab"><img src="@Model.CurrentProductDetail.SubImage4" alt="" /></a></div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.SubImage5))
                    {
                        <div><a href="#pro-large-img-6" data-toggle="tab"><img src="@Model.CurrentProductDetail.SubImage5" alt="" /></a></div>
                    }
                    @if (!string.IsNullOrEmpty(Model.CurrentProductDetail.QRCode))
                    {
                        <div><a href="#pro-large-img-7" data-toggle="tab"><img src="@Model.CurrentProductDetail.QRCode" alt="" /></a></div>
                    }
                    @if (Model.ProductsInSameGroupColor != null)
                    {
                        int count = 7;
                        foreach (var p in Model.ProductsInSameGroupColor.Where(x => x.Id != Model.CurrentProductDetail.Id))
                        {
                            count = count + 1;
                            <div><a href="#pro-large-img-@count" data-toggle="tab"><img src="@p.PrimaryImage" alt="" /></a></div>
                        }

                    }
                </div>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-8 mb-40">
                <div class="product-details">
                    <h2 class="title">@Model.CurrentProductDetail.Name</h2>
                    @if (Model.CurrentProductDetail.DiscountPrice < Model.CurrentProductDetail.OriginalPrice)
                    {
                        <span class="price section"><span class="new">$@Model.CurrentProductDetail.DiscountPrice</span><span class="old">$@Model.CurrentProductDetail.OriginalPrice</span></span>
                    }
                    else
                    {
                        <span class="price section">
                            <span class="new">$@Model.CurrentProductDetail.OriginalPrice</span>
                        </span>
                    }
                    <span class="availability section">
                        <strong>Availability:</strong>
                        @if (Model.CurrentProductDetail.InStock.Equals(Constant.CommonValue.InStock))
                        {
                            <span class="in"><i class="fa fa-check"></i> In Stock</span>
                        }
                        else if (Model.CurrentProductDetail.InStock.Equals(Constant.CommonValue.LowStock))
                        {
                            <span class="out"><i class="fa fa-circle-o-notch"></i> Low Stock</span>
                        }
                        else
                        {
                            <span class="out"><i class="fa fa-times"></i> Out of Stock</span>
                        }
                    </span>
                    <div class="short-desc section">
                        <span class="text-justify">
                            <strong>Quick Overview:</strong> @Html.Raw(Model.CurrentProductDetail.Description)
                        </span>
                    </div>
                    @if (Model.ProductsInSameGroupSize != null)
                    {
                        <div class="availability section">
                            <div class="tag-cloud">
                                @foreach (var p in Model.ProductsInSameGroupSize.Where(x => !string.IsNullOrEmpty(x.SizeName)))
                                {
                                    if (p.Id == Model.CurrentProductDetail.Id)
                                    {
                                        <a class="primary-text-and-border" onclick="window.location.href='/shop/product?productId=@p.Id&productName=@p.Name.Replace(' ', '-')'">@p.SizeName</a>
                                    }
                                    else
                                    {
                                        <a onclick="window.location.href='/shop/product?productId=@p.Id&productName=@p.Name.Replace(' ', '-')'">@p.SizeName</a>
                                    }
                                }
                            </div>
                        </div>
                    }
                    <div class="color-list section">
                        @if (Model.ProductsInSameGroupColor != null)
                        {
                            foreach (var p in Model.ProductsInSameGroupColor)
                            {
                                if (Model.CurrentProductDetail.ColorCode == p.ColorCode)
                                {
                                    <button class="active" style="background-color: @Model.CurrentProductDetail.ColorCode">
                                        <i class="fa fa-check"></i>
                                    </button>
                                }
                                else
                                {
                                    <button class="" style="background-color: @p.ColorCode" onclick="window.location.href='/shop/product?productId=@p.Id&productName=@p.Name.Replace(' ', '-')'">
                                        <i class="fa fa-"></i>
                                    </button>
                                }
                            }

                        }
                        else
                        {
                            <button class="active" style="background-color: @Model.CurrentProductDetail.ColorCode">
                                <i class="fa fa-check"></i>
                            </button>
                        }
                    </div>
                    <ul class="usefull-link section">
                        <li class="wishlistLoading">
                            @if (Model.CurrentProductDetail.IsInWishlist)
                            {
                                <a class="text-primary"><i class="fa fa-heart" style="margin-top: -2px;"></i> In your Wishlist</a>
                            }
                            else
                            {
                                <a onclick="addWishlist(@Model.CurrentProductDetail.Id)"><i class="fa fa-heart-o" style="margin-top: -2px;"></i>Add to Wishlist</a>

                            }
                        </li>
                        <li class="likeProductLoading">
                            @if (Model.CurrentProductDetail.IsLikedForCurrentUser)
                            {
                                <a onclick="likeProduct(@Model.CurrentProductDetail.Id)" class="text-primary">
                                    <i class="fa fa-thumbs-o-up" style="margin-top: -2px;"></i>@Model.CurrentProductDetail.NumberOfLiked Liked
                                </a>
                            }
                            else
                            {
                                <a onclick="likeProduct(@Model.CurrentProductDetail.Id)">
                                    <i class="fa fa-thumbs-o-up" style="margin-top: -2px;"></i>@Model.CurrentProductDetail.NumberOfLiked Like
                                </a>
                            }
                        </li>
                        <li>
                            <a class="@(@Model.CurrentProductDetail.IsReviewedForCurrentUser ? "text-primary" : "")">
                                @for (int i = 1; i <= 5; i++)
                                {
                                    if (i <= Model.CurrentProductDetail.AverageRating)
                                    {
                                        <i class="fa fa-star"></i>
                                    }
                                    else if (i > Model.CurrentProductDetail.AverageRating && (Model.CurrentProductDetail.AverageRating > (i - 1)))
                                    {
                                        if (Model.CurrentProductDetail.AverageRating <= i - 0.5)
                                        {
                                            <i class="fa fa-star-half-full"></i>
                                        }
                                        else
                                        {
                                            <i class="fa fa-star"></i>
                                        }
                                    }
                                    else
                                    {
                                        <i class="fa fa-star-o"></i>
                                    }
                                }

                                @Model.CurrentProductDetail.NumberOfRating rating
                            </a>
                        </li>
                    </ul>
                    <div class="quantity-cart section">
                        <div class="product-quantity">
                            <input id="quantity" type="text" value="1" min="0" onkeypress="return (event.charCode == 8 || event.charCode == 0) ? null : event.charCode >= 48 && event.charCode <= 57">
                        </div>
                        @if (Model.CurrentProductDetail.InStock.Equals(Constant.CommonValue.OutOfStock))
                        {
                            <button class="add-to-cart" onclick="preOrder()">Pre-order</button>
                        }
                        else
                        {
                            <button class="add-to-cart" onclick="addToCart(@Model.CurrentProductDetail.Id, $('#quantity').val())">add to cart</button>
                        }
                    </div>
                    <div class="share-icons section">
                        <a class="facebook" href="#"><i class="fa fa-facebook"></i>  facebook</a>
                        <a class="instagram" href="#"><i class="fa fa-instagram"></i>  instagram</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <!-- Nav tabs -->
            <div class="col-xs-12">
                <ul class="pro-info-tab-list section">
                    <li class="active"><a href="#more-info" data-toggle="tab">More info</a></li>
                    <li>
                        <a href="#reviews" data-toggle="tab">
                            Reviews
                        </a>
                    </li>

                </ul>

            </div>

            <!--Tab panes -->
            <div class="tab-content col-xs-12">
                <div class="pro-info-tab tab-pane active" id="more-info">
                    <p class="text-justify">
                        @Html.Raw(Model.CurrentProductDetail.MoreInfo)
                    </p>
                </div>
                <div class="pro-info-tab tab-pane" id="reviews">
                    @*<a href="#">Be the first to write  your review!</a>*@
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="@(Request.Browser.IsMobileDevice == true ? "text-center pt-10" : "text-center pt-50")">
                                <span class="review_heading">User Rating</span>
                                @for (int i = 1; i <= 5; i++)
                                {
                                    if (i <= Model.CurrentProductDetail.AverageRating)
                                    {
                                        <i class="fa fa-star checked"></i>
                                    }
                                    else if (i > Model.CurrentProductDetail.AverageRating && (Model.CurrentProductDetail.AverageRating > (i - 1)))
                                    {
                                        if (Model.CurrentProductDetail.AverageRating <= i - 0.5)
                                        {
                                            <i class="fa fa-star-half-full checked"></i>
                                        }
                                        else
                                        {
                                            <i class="fa fa-star checked"></i>
                                        }
                                    }
                                    else
                                    {
                                        <i class="fa fa-star-o checked"></i>
                                    }
                                }
                                <p>@Model.CurrentProductDetail.AverageRating average based on @Model.CurrentProductDetail.NumberOfReviewed reviews.</p>
                            </div>
                        </div>
                        <div class="col-sm-6">
                            <div class="">
                                <div class="side">
                                    <div>5 <i class="fa fa-star"></i></div>
                                </div>
                                <div class="middle">
                                    <div class="bar-container">
                                        <div class="bar-5" style="width: @Model.CurrentProductDetail.RatingStatistic.FiveStar"></div>
                                    </div>
                                </div>
                                <div class="side right">
                                    <div>@Model.CurrentProductDetail.RatingStatistic.FiveStarCount</div>
                                </div>
                                <div class="side">
                                    <div>4 <i class="fa fa-star"></i></div>
                                </div>
                                <div class="middle">
                                    <div class="bar-container">
                                        <div class="bar-4" style="width: @Model.CurrentProductDetail.RatingStatistic.FourStar"></div>
                                    </div>
                                </div>
                                <div class="side right">
                                    <div>@Model.CurrentProductDetail.RatingStatistic.FourStarCount</div>
                                </div>
                                <div class="side">
                                    <div>3 <i class="fa fa-star"></i></div>
                                </div>
                                <div class="middle">
                                    <div class="bar-container">
                                        <div class="bar-3" style="width: @Model.CurrentProductDetail.RatingStatistic.ThreeStar"></div>
                                    </div>
                                </div>
                                <div class="side right">
                                    <div>@Model.CurrentProductDetail.RatingStatistic.ThreeStarCount</div>
                                </div>
                                <div class="side">
                                    <div>2 <i class="fa fa-star"></i></div>
                                </div>
                                <div class="middle">
                                    <div class="bar-container">
                                        <div class="bar-2" style="width: @Model.CurrentProductDetail.RatingStatistic.TwoStar"></div>
                                    </div>
                                </div>
                                <div class="side right">
                                    <div>@Model.CurrentProductDetail.RatingStatistic.TwoStarCount</div>
                                </div>
                                <div class="side">
                                    <div>1 <i class="fa fa-star"></i></div>
                                </div>
                                <div class="middle">
                                    <div class="bar-container">
                                        <div class="bar-1" style="width: @Model.CurrentProductDetail.RatingStatistic.OneStar"></div>
                                    </div>
                                </div>
                                <div class="side right">
                                    <div>@Model.CurrentProductDetail.RatingStatistic.OneStarCount</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr style="border:3px solid #f1f1f1">
                    <div class="reviewSection">
                        @foreach (var review in Model.CurrentProductDetail.ReviewedProduct)
                        {
                            if (Model.CurrentProductDetail.ReviewedProduct.IndexOf(review) > 0)
                            {
                                < hr />
                            }
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="review-block">
                                        <div class="row">
                                            <div class="col-sm-3 text-center">
                                                <div class="chip">
                                                    <img src="@review.UserAvatar" alt="Person" width="96" height="96">
                                                    @review.UserFullname
                                                </div>
                                                <br /><br />
                                            </div>
                                            <div class="col-sm-9">
                                                <div class="review-block-rate">
                                                    @if (review.Rating > 0)
                                                    {
                                                        for (int i = 1; i <= 5; i++)
                                                        {
                                                            if (i <= review.Rating)
                                                            {
                                                                if (WebSecurity.IsAuthenticated && WebSecurity.CurrentUserId == review.UserId)
                                                                {
                                                                    <i class="fa fa-star checked"></i>
                                                                }
                                                                else
                                                                {
                                                                    <i class="fa fa-star"></i>
                                                                }
                                                            }
                                                            else
                                                            {
                                                                if (WebSecurity.IsAuthenticated && WebSecurity.CurrentUserId == review.UserId)
                                                                {
                                                                    <i class="fa fa-star-o checked"></i>
                                                                }
                                                                else
                                                                {
                                                                    <i class="fa fa-star-o"></i>
                                                                }
                                                            }
                                                        }
                                                    }
                                                </div>
                                                <div class="review-block-description">
                                                    @review.Comment
                                                    <p class="text-justify">@review.CreatedAt</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                    <div class="row" style="margin-top:40px;">
                        <div class="col-sm-12">
                            <div class="well well-sm">
                                <div class="text-right">
                                    @if (!Model.CurrentProductDetail.ReviewedProduct.Any())
                                    {
                                        <a href="#reviews-anchor" id="open-review-box"> Be the first to write your review</a>
                                    }
                                    else
                                    {
                                        <a href="#reviews-anchor" id="open-review-box">Leave a review</a>
                                    }

                                </div>

                                <div class="row" id="post-review-box" style="display:none;">
                                    <div class="col-md-12">
                                        <form accept-charset="UTF-8" action="" method="post">
                                            <input id="ratings-hidden" name="rating" type="hidden">
                                            <textarea class="form-control animated" cols="50" id="new-review" name="comment" placeholder="Enter your review here..." rows="5"></textarea>

                                            <div class="text-right">
                                                <div class="stars starrr" data-rating="0"></div>
                                                <a id="close-review-box">Cancel</a>
                                                &nbsp;
                                                <a onclick="reviewProduct(@Model.CurrentProductDetail.Id)" id="open-review-box" style="background-color: #ef546a;">Submit</a>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div> <!-- /container -->
            </div>
        </div>
    </div>
</div>

<!-- PAGE SECTION END -->
<!-- PRODUCT SECTION START -->
<div class="product-section section pb-60">
    <div class="container">
        <div class="row">
            <div class="section-title text-center col-xs-12 mb-70">
                <h2>related products</h2>
            </div>
        </div>
        <div class="row">
            <div class="product-slider product-slider-4">
                @foreach (var item in Model.RelatedProductList)
                {
                    <!--product - item start-->
                    <div class="col-xs-12">
                        <div class="product-item text-center">
                            <div class="product-img">
                                <a class="image" href="/shop/product?productId=@item.Id&productName=@item.Name.Replace(' ', '-')"><img src="@item.PrimaryImage" alt="" /></a>
                                @*<a class="add-to-cart" onclick="addToCart(@item.Id, 1)">add to cart</a>*@
                                <div class="action-btn fix">
                                    <a onclick="addWishlist(@item.Id)" title="Wishlist"><i class="pe-7s-like"></i></a>
                                    <a onclick="addToCart(@item.Id, 1)" title="Add to cart"><i class="pe-7s-plus"></i></a>
                                    @*<a href="/shop/product?productId=@item.Id&productName=@item.Name" title="Quickview"><i class="pe-7s-look"></i></a>*@
                                </div>
                            </div>
                            <div class="product-info">
                                <h5 class="title"><a href="/shop/product?productId=@item.Id&productName=@item.Name.Replace(' ', '-')">@item.Name</a></h5>
                                @if (Model.CurrentProductDetail.DiscountPrice < Model.CurrentProductDetail.OriginalPrice)
                                {
                                    <span class="price section"><span class="new">$@Model.CurrentProductDetail.DiscountPrice</span><span class="old">$@Model.CurrentProductDetail.OriginalPrice</span></span>
                                }
                                else
                                {
                                    <span class="price section">
                                        <span class="new">$@Model.CurrentProductDetail.OriginalPrice</span>
                                    </span>
                                }
                            </div>
                        </div>
                    </div>
                    <!-- product-item end -->
                }
            </div>
        </div>
    </div>
</div>
<!-- PRODUCT SECTION END -->

<div id="preOrderModal" class="modal">
    <div class="modal-overlay"></div>
    <div class="modal-wrapper">
        <div class="modal-content-preOrder">
            <div class="modal-title">Pre-Order</div>
            <div class="modal-text">
                <p class="text-center">We apologize for this inconvenient. Please fill your information to the form below and we will contact you soon! Please accept a few week for pre-order product!</p>
                <div class="login-reg-form" style="border: none; padding: 10px">
                    <form>
                        @if (Model.CurrentUserLogin != null)
                        {
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>First name <span class="required">*</span></label>
                                        <input id="firstNamePreOrder" name="FirstName" type="text" placeholder="First name" value="@Model.CurrentUserLogin.FirstName" disabled>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Last name <span class="required">*</span></label>
                                        <input id="lastNamePreOrder" name="LastName" type="text" placeholder="Last name" value="@Model.CurrentUserLogin.LastName" disabled>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Email <span class="required">*</span></label>
                                        <input id="emailPreOrder" name="Email" type="text" placeholder="Email" value="@Model.CurrentUserLogin.Email" disabled>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Phone <span class="required">*</span></label>
                                        <input id="phonePreOrder" name="Phone" type="text" placeholder="Phone" value="@Model.CurrentUserLogin.Phone" disabled>
                                    </div>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>First name <span class="required">*</span></label>
                                        <input id="firstNamePreOrder" name="FirstName" type="text" placeholder="First name" value="">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Last name <span class="required">*</span></label>
                                        <input id="lastNamePreOrder" name="LastName" type="text" placeholder="Last name" value="">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Email <span class="required">*</span></label>
                                        <input id="emailPreOrder" name="Email" type="text" placeholder="Email" value="">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Phone <span class="required">*</span></label>
                                        <input id="phonePreOrder" name="Phone" type="text" placeholder="Phone" value="">
                                    </div>
                                </div>
                            </div>
                        }
                    </form>
                </div>
                <div class="text-center">
                    <input type="submit" value="Close" name="close" id="btnClosePreOrder" class="black_button" onclick="closePreOrder()">
                    <input type="submit" value="Pre-Order" name="close" id="btnPlacePreOrder" class="purple_button" onclick="placePreOrder()">
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $(".enlarge.inline-demo").data("options", {
            button: true,
            hoverZoomWithoutClick: true,
            delay: 300,
            flyout: {
                width: 300,
                height: 300
            },
            placement: "flyoutloupe", // or inline
            magnification: 3
        });

        $(document).bind("enhance", function () {
            $("body").addClass("enhanced");
        });

        $(document).trigger("enhance");
    });

    function zoomImage(url) {
        var modal = $('#hoverImage');
        var modalContent = $('.modal-content-image');
        $("#imageZoom").attr("src", "");
        $("#imageZoom").attr("src", url);
        modal.css({ display: 'block' }).animateCss('zoomIn');
        modalContent.animateCss('zoomIn');
        isShowModal = true;
    };

    function closeImage() {
        var modal = $('#hoverImage');
        var modalContent = $('.modal-content-image');
        modalContent.animateCss('bounceOutLeft');
        modal.animateCss('zoomOut', function () {
            modal.css({ display: 'none' });
        });
        isShowModal = false;
    };
</script>